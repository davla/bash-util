var Pagination=function(n){this.next=document.createElement("button"),this.next.setAttribute("name","next"),this.next.setAttribute("type","button"),this.next.setAttribute("class","pagination-next"),this.next.disabled=!0,this.next.appendChild(document.createTextNode("→")),this.prev=document.createElement("button"),this.prev.setAttribute("name","prev"),this.prev.setAttribute("type","button"),this.prev.setAttribute("class","pagination-prev"),this.prev.disabled=!0,this.prev.appendChild(document.createTextNode("←")),this.page=document.createElement("input"),this.page.setAttribute("type","number"),this.page.setAttribute("name","page"),this.page.setAttribute("value","1"),this.page.setAttribute("min","1"),this.page.setAttribute("step","1"),this.page.setAttribute("class","pagination-page"),this.page.disabled=!0,typeof jQuery!="undefined"?((n.next instanceof jQuery?n.next[0]:n.next).appendChild(this.next),(n.prev instanceof jQuery?n.prev[0]:n.prev).appendChild(this.prev),(n.page instanceof jQuery?n.page[0]:n.page).appendChild(this.page)):(n.next.appendChild(this.next),n.prev.appendChild(this.prev),n.page.appendChild(this.page)),this.pageLength=n.pageLength||10,this.pageChanged=!1;var t=function(n){var t;try{t=new Event(n)}catch(i){t=document.createEvent("HTMLEvents"),t.initEvent(n,!0,!0)}this.dispatchEvent(t)};this.prev.trigger=t,this.page.trigger=t,this.next.trigger=t,this.page.asInt=function(n){return parseInt(this[n||"value"])},this.page.isValid=function(){var t=this.page.asInt(),i=this.page.asInt("max")||t+1;return!t||t<1||t>i?(this.prev.disabled=!t||t<=1,this.next.disabled=!t||t>=i,n.invalidPage&&n.invalidPage(),!1):(this.prev.disabled=t==1,this.next.disabled=t==i,this.pageChanged=!0,n.validPage&&n.validPage(),!0)}.bind(this),n.onlyCheckOnChange&&this.page.addEventListener("change",this.page.isValid),this.next.addEventListener("click",function(){try{this.page.stepUp()}catch(t){var n=this.page.asInt()+this.page.asInt("step");n<=(this.page.asInt("max")||n),this.page.value=n}this.page.trigger("change")}.bind(this)),this.prev.addEventListener("click",function(){try{this.page.stepDown()}catch(t){var n=this.page.asInt()-this.page.asInt("step");n>=1,this.page.value=n}this.page.trigger("change")}.bind(this))};Pagination.prototype.addPageCheckListener=function(n,t,i,r){n=r?jQuery(this[n]):this[n],i=i.bind(n);var u=function(n){this.page.isValid()&&i(n)}.bind(this);if(r)n.on(t,u);else n.addEventListener(t,u)},Pagination.prototype.addListener=function(n,t,i,r){var u;if(n=r?jQuery(this[n]):this[n],i=i.bind(n),u=t=="click"&&n!="page"?function(n){this.trigger("click"),i(n)}.bind(this[n]):i,r)n.on(t,u);else n.addEventListener(t,u)},Pagination.prototype.pageNumber=function(){return this.page.asInt()},Pagination.prototype.getPrev=function(){return this.prev},Pagination.prototype.getPage=function(){return this.page},Pagination.prototype.getNext=function(){return this.next},Pagination.prototype.first=function(){this.page.value=1,this.page.removeAttribute("max"),this.prev.disabled=!0,this.page.disabled=!1,this.next.disabled=!1},Pagination.prototype.last=function(){this.page.max=this.page.value,this.prev.disabled=!1,this.page.disabled=!1,this.next.disabled=!0},Pagination.prototype.only=function(){this.page.value=1,this.page.max=1,this.prev.disabled=!0,this.page.disabled=!0,this.next.disabled=!0},Pagination.prototype.other=function(n){n?this.page.value=n:n=this.page.asInt(),this.page.disabled=!1,this.next.disabled=n==(this.page.asInt("max")||n+1),this.prev.disabled=n==1};
